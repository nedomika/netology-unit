### –ó–∞–¥–∞–Ω–∏–µ 1. Elasticsearch. 

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ elasticsearch, –ø–æ—Å–ª–µ —á–µ–≥–æ –ø–æ–º–µ–Ω—è–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä cluster_name –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–π. 

*–ü—Ä–∏–≤–µ–¥–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –∫–æ–º–∞–Ω–¥—ã 'curl -X GET 'localhost:9200/_cluster/health?pretty', —Å–¥–µ–ª–∞–Ω–Ω–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º elasticsearch. –ì–¥–µ –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π cluster_name*

---
### –†–µ—à–µ–Ω–∏–µ 1.

–†—É–∫–æ–≤–æ–¥—á—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ https://www.elastic.co/guide/en/elasticsearch/reference/current/deb.html#install-deb

–í —É—Å–ª–æ–≤–∏—è—Ö –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –º–æ–∂–Ω–æ —Å –Ø–Ω–¥–µ–∫—Å —Ä–µ–ø–æ–∑–∏—Ç–∞—Ä–∏—è

*echo "deb [trusted=yes] https://mirror.yandex.ru/mirrors/elastic/8/ stable main" | sudo tee /etc/apt/sources.list.d/elastic-8.x.list*

–£–∫–∞–∑–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ –∑–∞–¥–∞–Ω–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ http —Å–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

–ó–∞—Ç–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ HTTPS - unwPaHmPznP2HkCTHcHQ

![image](https://user-images.githubusercontent.com/103321705/179233203-bcf7b705-b19b-4521-a0ae-7a25f7ab42ff.png)


---

### –ó–∞–¥–∞–Ω–∏–µ 2. Kibana.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ kibana.

*–ü—Ä–∏–≤–µ–¥–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ kibana –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ http://<ip –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞>:5601/app/dev_tools#/console, –≥–¥–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞–ø—Ä–æ—Å GET /_cluster/health?pretty*

---
### –†–µ—à–µ–Ω–∏–µ 2

apt update && apt install kibana
systemctl daemon-reload
systemctl enable kibana.service
systemctl start kibana.service

![image](https://user-images.githubusercontent.com/103321705/179370773-d3e87ee8-e65e-4092-85bc-0ee7fdc29e9c.png)

---
### –ó–∞–¥–∞–Ω–∏–µ 3. Logstash.

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Logstash –∏ Nginx. –° –ø–æ–º–æ—â—å—é Logstash –æ—Ç–ø—Ä–∞–≤–∏—Ç—å access-–ª–æ–≥ nginx –≤ Elasticsearch. 

*–ü—Ä–∏–≤–µ–¥–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ kibana, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤–∏–¥–Ω—ã –ª–æ–≥–∏ nginx.*

---

### –†–µ—à–µ–Ω–∏–µ 3.

–í –∑–∞–¥–∞–Ω–∏–∏ —É–ø–æ–º–∏–Ω–∏–Ω–∞–µ—Ç—Å—è acsess-–ª–æ–≥, —Ç.–µ. –∏–º–µ–µ—Ç—Å—è –≤–≤–∏–¥—É –≤–∑—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –ª–æ–≥-—Ñ–∞–π–ª –∏ –ø–µ—Ä–µ–ø—Ä–∞–≤—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ logstash –≤ eleactic (–µ—Å–ª–∏ –±—Ä–∞–ª–∏ –±—ã –ª–æ–≥ –Ω–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –≥–¥–µ —Å—Ç–æ–∏—Ç logstash, —Ç–æ –Ω–∞–ø—Ä–∞–≤–ª—è–ª–∏ —á–µ—Ä–µ–∑ syslog - https://github.com/medov-alexey/vagrant-configs/tree/main/Logstash/send_nginx_logs_to_elk/other_files)
nginx:\
  –≤ –±–ª–æ–∫–µ http:
  
  ![image](https://user-images.githubusercontent.com/103321705/179379661-83a0390f-999d-4910-a505-ac46616b56de.png)
  
  –≤ –±–ª–æ–∫–µ server
  
  ![image](https://user-images.githubusercontent.com/103321705/179379696-5e392991-9569-43ea-a3ae-567a2bcd70d5.png)

Logtash:

![image](https://user-images.githubusercontent.com/103321705/179379640-9af2822f-97d4-4c09-8582-09e81adf1150.png)

–í –≤–µ—Ä—Å–∏–∏ 8 —Å–∞–º–æ–π —ç–ª–∞—Å—Ç–∏–∫–∏ - –º–Ω–æ–≥–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø—Ä–∏ –µ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞—Ç–µ –∫–∞–∫ –Ω–∞–¥–æ:

![image](https://user-images.githubusercontent.com/103321705/179379737-9504bfc5-17d8-41eb-ab4c-02a283f95422.png)

---

### –ó–∞–¥–∞–Ω–∏–µ 4. Filebeat. 

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Filebeat. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–æ—Å—Ç–∞–≤–∫—É –ª–æ–≥–æ–≤ Nginx —Å Logstash –Ω–∞ Filebeat. 

*–ü—Ä–∏–≤–µ–¥–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ kibana, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤–∏–¥–Ω—ã –ª–æ–≥–∏ nginx, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ Filebeat.*

---

### –†–µ—à–µ–Ω–∏–µ 4.

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ filebeat 

![image](https://user-images.githubusercontent.com/103321705/179426367-700c9f54-9ead-49be-99d2-8772564df8b6.png)

![image](https://user-images.githubusercontent.com/103321705/179426394-422f32cc-bfbd-4f90-b8cb-d7b51dbe1190.png)

–î–∞–ªee –≤–∫–ª—é—á–∞–µ–º —É –Ω–µ–≥–æ –º–æ–¥—É–ª—å nginx –∏ –¥–æ–±–∞–≤–ª—è–µ–º —É –ª–æ–≥–∫–∞—Ç–∞ —Ñ–∞–π–ª
 
![image](https://user-images.githubusercontent.com/103321705/179426467-37dc00bc-f14d-4f05-bf88-29f64d978076.png)

–ò—Ç–æ–≥ -

![image](https://user-images.githubusercontent.com/103321705/179426523-b858a6ae-77eb-44d9-b37e-7138fc00bff3.png)

![image](https://user-images.githubusercontent.com/103321705/179426577-e2f1848e-3476-4335-aced-9ed1327eb866.png)




## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (—Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π*)
–≠—Ç–∏ –∑–∞–¥–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é) –∏ –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–∞–º–∏ –∑–∞—á–µ—Ç–∞ –ø–æ —ç—Ç–æ–º—É –¥–æ–º–∞—à–Ω–µ–º—É –∑–∞–¥–∞–Ω–∏—é. –í—ã –º–æ–∂–µ—Ç–µ –∏—Ö –≤—ã–ø–æ–ª–Ω–∏—Ç—å, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≥–ª—É–±–∂–µ –∏/–∏–ª–∏ —à–∏—Ä–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ –º–∞—Ç–µ—Ä–∏–∞–ª–µ.

### –ó–∞–¥–∞–Ω–∏–µ 5*. –î–æ—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö. 

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ—Å—Ç–∞–≤–∫—É –ª–æ–≥–∞ –≤ Elasticsearch —á–µ—Ä–µ–∑ Logstash –∏ Filebeat –ª—é–±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞(–Ω–µ nginx). 
–î–ª—è —ç—Ç–æ–≥–æ –ª–æ–≥ –¥–æ–ª–∂–µ–Ω –ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É, Logstash –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –µ–≥–æ —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –∏ —Ä–∞–∑–ª–æ–∂–∏—Ç—å –Ω–∞ –ø–æ–ª—è. 

*–ü—Ä–∏–≤–µ–¥–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ kibana, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω —ç—Ç–æ—Ç –ª–æ–≥ –∏ –Ω–∞–ø–∏—à–∏—Ç–µ –ª–æ–≥ –∫–∞–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è.*

---

### –†–µ—à–µ–Ω–∏–µ 5.

–û –≥–æ—Å–ø–∞–¥–∏, –ø–æ—Ç—Ä–∞—Ç–∏–ª —Å—É—Ç–∫–∏ —át–ª–æ–≤–µ–∫–æ —á–∞—Å–æ–≤ –Ω–∞ —ç—Ç–æ –¥–µ–ª–∞ ((((

–≤—Å–µ —Ä–µ—à–∏–ª–æ—Å—å –ü–ï–†–ï–£–°–¢–ê–ù–û–í–ö–û–ô filebeat –∏ logstash üò†
 –õ–æ–≥–∏ DPKG.LOG
 
![image](https://user-images.githubusercontent.com/103321705/179526834-60190785-df3a-4e68-ae0b-f96059b27d2b.png)

![image](https://user-images.githubusercontent.com/103321705/179526958-7ec1f98d-292a-46e8-b2e4-6e917939cfca.png)

![image](https://user-images.githubusercontent.com/103321705/179527049-60f157f8-5875-40ce-9790-146c0e4a2675.png)

![image](https://user-images.githubusercontent.com/103321705/179527296-9a19a854-136e-481c-80cc-75d1010c694c.png)


 –ò—Ç–æ–≥
 
 ![image](https://user-images.githubusercontent.com/103321705/179527422-88a3c257-6c25-4e94-a0a3-63187e335a62.png)








